<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深拷贝</title>
</head>

<body>

</body>
<script>

//JSON.stringify先将obj2对象转化为字符串，再通过JSON.parse转化为对象，JSON.parse会开辟一个新空间来储存，与原来的obj没关系
// let obj2 = JSON.parse(JSON.stringify(obj))



    function deepClone(obj) {
        //=>过滤特殊情况
        if (obj === null) return null;
        if (typeof obj !== "object") return obj;
        if (obj instanceof RegExp) {
            return new RegExp(obj);
        }
        if (obj instanceof Date) {
            return new Date(obj);
        }
        //=>不直接创建空对象目的:克隆的结果和之前保持相同的所属类
        let newObj = new obj.constructor;
        for (let key in obj) {
            if (obj.hasOwnProperty(key)) {
                newObj[key] = deepClone(obj[key]);
            }
        }
        return newObj;
    }

let obj ={
    a:1,
    b:[2,3,4],
    c:{
        d:5,
        f:6
    }
}
 let r = deepClone(obj)
 console.log(r);

</script>

</html>